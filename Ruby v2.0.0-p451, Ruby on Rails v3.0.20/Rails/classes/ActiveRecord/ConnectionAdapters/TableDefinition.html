<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>ActiveRecord::ConnectionAdapters::TableDefinition</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../css/github.css" type="text/css" media="screen" />
<script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
            <span>Ruby on Rails 3.0.20</span><br />
        
        <h1>
            <span class="type">Class</span> 
            ActiveRecord::ConnectionAdapters::TableDefinition 
            
                <span class="parent">&lt; 
                    
                    <a href="../../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions_rb.html">activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb</a></li>
            
            <li><a href="../../../files/activerecord/lib/active_record/connection_adapters/postgresql_adapter_rb.html">activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>Represents the schema of an SQL table in an abstract way. This class
provides methods for manipulating the schema representation.</p>

<p>Inside migration files, the <code>t</code> object in
<code>create_table</code> and <code>change_table</code> is actually of this
type:</p>

<pre><code>class SomeMigration &lt; ActiveRecord::Migration
  def self.up
    create_table :foo do |t|
      puts t.class  # =&gt; &quot;ActiveRecord::ConnectionAdapters::TableDefinition&quot;
    end
  end

  def self.down
    ...
  end
end
</code></pre>

<p>The table definitions The Columns are stored as a ColumnDefinition in the
<code>columns</code> attribute.</p>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>#</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-5B-5D">[]</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>B</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-belongs_to">belongs_to</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-column">column</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-method_missing">method_missing</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-native">native</a>,
              </li>
            
              
              <li>
                <a href="#method-c-new">new</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-primary_key">primary_key</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-references">references</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-timestamps">timestamps</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_sql">to_sql</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>X</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-xml">xml</a>,
              </li>
            
              
              <li>
                <a href="#method-i-xml_column_fallback">xml_column_fallback</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    


    
      <!-- Section attributes -->
      <div class="sectiontitle">Attributes</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>columns</td>
            <td class='attr-desc'><p>An array of ColumnDefinition objects, representing the column changes that
have been defined.</p></td>
          </tr>
        
      </table>
    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-new">
            
              <b>new</b>(base)
            
            <a href="../../../classes/ActiveRecord/ConnectionAdapters/TableDefinition.html#method-c-new" name="method-c-new" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
                  | <a href="https://github.com/mdesantis/rails/blob/3270c58ebb3143b3ab3b349fe339cdd4587468ee/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L316" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 316</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">initialize</span>(<span class="ruby-identifier">base</span>)
  <span class="ruby-ivar">@columns</span> = []
  <span class="ruby-ivar">@base</span> = <span class="ruby-identifier">base</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                  
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-5B-5D">
            
              <b>[]</b>(name)
            
            <a href="../../../classes/ActiveRecord/ConnectionAdapters/TableDefinition.html#method-i-5B-5D" name="method-i-5B-5D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns a ColumnDefinition for the column with name <code>name</code>.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-5B-5D_source')" id="l_method-i-5B-5D_source">show</a>
                
                  | <a href="https://github.com/mdesantis/rails/blob/3270c58ebb3143b3ab3b349fe339cdd4587468ee/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L345" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-5B-5D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 345</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-keyword ruby-title">name</span>)
  <span class="ruby-ivar">@columns</span>.<span class="ruby-identifier">find</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">column</span><span class="ruby-operator">|</span> <span class="ruby-identifier">column</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>}
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-belongs_to">
            
              <b>belongs_to</b>(*args)
            
            <a href="../../../classes/ActiveRecord/ConnectionAdapters/TableDefinition.html#method-i-belongs_to" name="method-i-belongs_to" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
            <div class="aka">
              Alias for: <a href="TableDefinition.html#method-i-references">references</a>
            </div>
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-column">
            
              <b>column</b>(name, type, options = {})
            
            <a href="../../../classes/ActiveRecord/ConnectionAdapters/TableDefinition.html#method-i-column" name="method-i-column" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Instantiates a new column for the table. The <code>type</code> parameter is
normally one of the migrations native types, which is one of the following:
<code>:primary_key</code>, <code>:string</code>, <code>:text</code>,
<code>:integer</code>, <code>:float</code>, <code>:decimal</code>,
<code>:datetime</code>, <code>:timestamp</code>, <code>:time</code>,
<code>:date</code>, <code>:binary</code>, <code>:boolean</code>.</p>

<p>You may use a type not in this list as long as it is supported by your
database (for example, “polygon” in MySQL), but this will not be database
agnostic and should usually be avoided.</p>

<p>Available options are (none of these exists by default):</p>
<ul><li>
<p><code>:limit</code> - Requests a maximum column length. This is number of
characters for <code>:string</code> and <code>:text</code> columns and
number of bytes for :binary and :integer columns.</p>
</li><li>
<p><code>:default</code> - The column&#39;s default value. Use nil for NULL.</p>
</li><li>
<p><code>:null</code> - Allows or disallows <code>NULL</code> values in the
column. This option could have been named <code>:null_allowed</code>.</p>
</li><li>
<p><code>:precision</code> - Specifies the precision for a
<code>:decimal</code> column.</p>
</li><li>
<p><code>:scale</code> - Specifies the scale for a <code>:decimal</code>
column.</p>
</li></ul>

<p>For clarity&#39;s sake: the precision is the number of significant digits,
while the scale is the number of digits that can be stored following the
decimal point. For example, the number 123.45 has a precision of 5 and a
scale of 2. A decimal with a precision of 5 and a scale of 2 can range from
-999.99 to 999.99.</p>

<p>Please be aware of different RDBMS implementations behavior with
<code>:decimal</code> columns:</p>
<ul><li>
<p>The SQL standard says the default scale should be 0, <code>:scale</code>
&lt;= <code>:precision</code>, and makes no comments about the requirements
of <code>:precision</code>.</p>
</li><li>
<p>MySQL: <code>:precision</code> [1..63], <code>:scale</code> [0..30].
Default is (10,0).</p>
</li><li>
<p>PostgreSQL: <code>:precision</code> [1..infinity], <code>:scale</code>
[0..infinity]. No default.</p>
</li><li>
<p>SQLite2: Any <code>:precision</code> and <code>:scale</code> may be used.
Internal storage as strings. No default.</p>
</li><li>
<p>SQLite3: No restrictions on <code>:precision</code> and
<code>:scale</code>, but the maximum supported <code>:precision</code> is
16. No default.</p>
</li><li>
<p>Oracle: <code>:precision</code> [1..38], <code>:scale</code> [-84..127].
Default is (38,0).</p>
</li><li>
<p>DB2: <code>:precision</code> [1..63], <code>:scale</code> [0..62]. Default
unknown.</p>
</li><li>
<p>Firebird: <code>:precision</code> [1..18], <code>:scale</code> [0..18].
Default (9,0). Internal types NUMERIC and DECIMAL have different storage
rules, decimal being better.</p>
</li><li>
<p>FrontBase?: <code>:precision</code> [1..38], <code>:scale</code> [0..38].
Default (38,0). WARNING Max <code>:precision</code>/<code>:scale</code> for
NUMERIC is 19, and DECIMAL is 38.</p>
</li><li>
<p>SqlServer?: <code>:precision</code> [1..38], <code>:scale</code> [0..38].
Default (38,0).</p>
</li><li>
<p>Sybase: <code>:precision</code> [1..38], <code>:scale</code> [0..38].
Default (38,0).</p>
</li><li>
<p>OpenBase?: Documentation unclear. Claims storage in <code>double</code>.</p>
</li></ul>

<p>This method returns <code>self</code>.</p>

<h2 id="method-i-column-label-Examples">Examples</h2>

<pre><code># Assuming td is an instance of TableDefinition
td.column(:granted, :boolean)
# granted BOOLEAN

td.column(:picture, :binary, :limit =&gt; 2.megabytes)
# =&gt; picture BLOB(2097152)

td.column(:sales_stage, :string, :limit =&gt; 20, :default =&gt; &#39;new&#39;, :null =&gt; false)
# =&gt; sales_stage VARCHAR(20) DEFAULT &#39;new&#39; NOT NULL

td.column(:bill_gates_money, :decimal, :precision =&gt; 15, :scale =&gt; 2)
# =&gt; bill_gates_money DECIMAL(15,2)

td.column(:sensor_reading, :decimal, :precision =&gt; 30, :scale =&gt; 20)
# =&gt; sensor_reading DECIMAL(30,20)

# While &lt;tt&gt;:scale&lt;/tt&gt; defaults to zero on most databases, it
# probably wouldn&#39;t hurt to include it.
td.column(:huge_integer, :decimal, :precision =&gt; 30)
# =&gt; huge_integer DECIMAL(30)

# Defines a column with a database-specific type.
td.column(:foo, &#39;polygon&#39;)
# =&gt; foo polygon
</code></pre>

<h2 id="method-i-column-label-Short-hand+examples">Short-hand examples</h2>

<p>Instead of calling <code>column</code> directly, you can also work with the
short-hand definitions for the default types. They use the type as the
method name instead of as a parameter and allow for multiple columns to be
defined in a single statement.</p>

<p>What can be written like this with the regular calls to column:</p>

<pre><code>create_table &quot;products&quot;, :force =&gt; true do |t|
  t.column &quot;shop_id&quot;,    :integer
  t.column &quot;creator_id&quot;, :integer
  t.column &quot;name&quot;,       :string,   :default =&gt; &quot;Untitled&quot;
  t.column &quot;value&quot;,      :string,   :default =&gt; &quot;Untitled&quot;
  t.column &quot;created_at&quot;, :datetime
  t.column &quot;updated_at&quot;, :datetime
end
</code></pre>

<p>Can also be written as follows using the short-hand:</p>

<pre><code>create_table :products do |t|
  t.integer :shop_id, :creator_id
  t.string  :name, :value, :default =&gt; &quot;Untitled&quot;
  t.timestamps
end
</code></pre>

<p>There&#39;s a short-hand method for each of the type values declared at the
top. And then there&#39;s <a
href="TableDefinition.html#method-i-timestamps">#timestamps</a> that&#39;ll
add created_at and <code>updated_at</code> as datetimes.</p>

<p><a href="TableDefinition.html#method-i-references">#references</a> will add
an appropriately-named _id column, plus a corresponding _type column if the
<code>:polymorphic</code> option is supplied. If <code>:polymorphic</code>
is a hash of options, these will be used when creating the
<code>_type</code> column. So what can be written like this:</p>

<pre><code>create_table :taggings do |t|
  t.integer :tag_id, :tagger_id, :taggable_id
  t.string  :tagger_type
  t.string  :taggable_type, :default =&gt; &#39;Photo&#39;
end
</code></pre>

<p>Can also be written as follows using references:</p>

<pre><code>create_table :taggings do |t|
  t.references :tag
  t.references :tagger, :polymorphic =&gt; true
  t.references :taggable, :polymorphic =&gt; { :default =&gt; &#39;Photo&#39; }
end
</code></pre>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-column_source')" id="l_method-i-column_source">show</a>
                
                  | <a href="https://github.com/mdesantis/rails/blob/3270c58ebb3143b3ab3b349fe339cdd4587468ee/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L483" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-column_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 483</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">column</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">column</span> = <span class="ruby-keyword">self</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">ColumnDefinition</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@base</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">type</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:limit</span>]
    <span class="ruby-identifier">column</span>.<span class="ruby-identifier">limit</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:limit</span>]
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">native</span>[<span class="ruby-identifier">type</span>.<span class="ruby-identifier">to_sym</span>].<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
    <span class="ruby-identifier">column</span>.<span class="ruby-identifier">limit</span> = <span class="ruby-identifier">native</span>[<span class="ruby-identifier">type</span>.<span class="ruby-identifier">to_sym</span>][<span class="ruby-value">:limit</span>]
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">column</span>.<span class="ruby-identifier">precision</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:precision</span>]
  <span class="ruby-identifier">column</span>.<span class="ruby-identifier">scale</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:scale</span>]
  <span class="ruby-identifier">column</span>.<span class="ruby-identifier">default</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:default</span>]
  <span class="ruby-identifier">column</span>.<span class="ruby-identifier">null</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:null</span>]
  <span class="ruby-ivar">@columns</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">column</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@columns</span>.<span class="ruby-identifier">include?</span> <span class="ruby-identifier">column</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-method_missing">
            
              <b>method_missing</b>(symbol, *args)
            
            <a href="../../../classes/ActiveRecord/ConnectionAdapters/TableDefinition.html#method-i-method_missing" name="method-i-method_missing" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Handles non supported datatypes - e.g. XML</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-method_missing_source')" id="l_method-i-method_missing_source">show</a>
                
                  | <a href="https://github.com/mdesantis/rails/blob/3270c58ebb3143b3ab3b349fe339cdd4587468ee/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L322" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-method_missing_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 322</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">method_missing</span>(<span class="ruby-identifier">symbol</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">symbol</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;xml&#39;</span>
    <span class="ruby-identifier">xml_column_fallback</span>(<span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">super</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-primary_key">
            
              <b>primary_key</b>(name)
            
            <a href="../../../classes/ActiveRecord/ConnectionAdapters/TableDefinition.html#method-i-primary_key" name="method-i-primary_key" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Appends a primary key definition to the table definition. Can be called
multiple times, but this is probably not a good idea.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-primary_key_source')" id="l_method-i-primary_key_source">show</a>
                
                  | <a href="https://github.com/mdesantis/rails/blob/3270c58ebb3143b3ab3b349fe339cdd4587468ee/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L340" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-primary_key_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 340</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">primary_key</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">column</span>(<span class="ruby-identifier">name</span>, <span class="ruby-value">:primary_key</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-references">
            
              <b>references</b>(*args)
            
            <a href="../../../classes/ActiveRecord/ConnectionAdapters/TableDefinition.html#method-i-references" name="method-i-references" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="TableDefinition.html#method-i-belongs_to">belongs_to</a>
            </div>
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-references_source')" id="l_method-i-references_source">show</a>
                
                  | <a href="https://github.com/mdesantis/rails/blob/3270c58ebb3143b3ab3b349fe339cdd4587468ee/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L517" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-references_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 517</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">references</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">options</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">extract_options!</span>
  <span class="ruby-identifier">polymorphic</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:polymorphic</span>)
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">col</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">column</span>(<span class="ruby-node">&quot;#{col}_id&quot;</span>, <span class="ruby-value">:integer</span>, <span class="ruby-identifier">options</span>)
    <span class="ruby-identifier">column</span>(<span class="ruby-node">&quot;#{col}_type&quot;</span>, <span class="ruby-value">:string</span>, <span class="ruby-identifier">polymorphic</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">polymorphic</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">options</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">polymorphic</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-timestamps">
            
              <b>timestamps</b>(*args)
            
            <a href="../../../classes/ActiveRecord/ConnectionAdapters/TableDefinition.html#method-i-timestamps" name="method-i-timestamps" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Appends <code>:datetime</code> columns <code>:created_at</code> and
<code>:updated_at</code> to the table.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-timestamps_source')" id="l_method-i-timestamps_source">show</a>
                
                  | <a href="https://github.com/mdesantis/rails/blob/3270c58ebb3143b3ab3b349fe339cdd4587468ee/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L511" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-timestamps_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 511</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">timestamps</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">options</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">extract_options!</span>
  <span class="ruby-identifier">column</span>(<span class="ruby-value">:created_at</span>, <span class="ruby-value">:datetime</span>, <span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">column</span>(<span class="ruby-value">:updated_at</span>, <span class="ruby-value">:datetime</span>, <span class="ruby-identifier">options</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_sql">
            
              <b>to_sql</b>()
            
            <a href="../../../classes/ActiveRecord/ConnectionAdapters/TableDefinition.html#method-i-to_sql" name="method-i-to_sql" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns a String whose contents are the column definitions concatenated
together. This string can then be prepended and appended to to generate the
final SQL to create the table.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-to_sql_source')" id="l_method-i-to_sql_source">show</a>
                
                  | <a href="https://github.com/mdesantis/rails/blob/3270c58ebb3143b3ab3b349fe339cdd4587468ee/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L530" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-to_sql_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 530</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">to_sql</span>
  <span class="ruby-ivar">@columns</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">to_sql</span> } <span class="ruby-operator">*</span> <span class="ruby-string">&#39;, &#39;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-xml">
            
              <b>xml</b>(*args)
            
            <a href="../../../classes/ActiveRecord/ConnectionAdapters/TableDefinition.html#method-i-xml" name="method-i-xml" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-xml_source')" id="l_method-i-xml_source">show</a>
                
                  | <a href="https://github.com/mdesantis/rails/blob/0252376cc98404cb6dfac92c436aac2149eee29c/activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb#L31" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-xml_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 31</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">xml</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">options</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">extract_options!</span>
  <span class="ruby-identifier">column</span>(<span class="ruby-identifier">args</span>[<span class="ruby-number">0</span>], <span class="ruby-string">&#39;xml&#39;</span>, <span class="ruby-identifier">options</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-xml_column_fallback">
            
              <b>xml_column_fallback</b>(*args)
            
            <a href="../../../classes/ActiveRecord/ConnectionAdapters/TableDefinition.html#method-i-xml_column_fallback" name="method-i-xml_column_fallback" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-xml_column_fallback_source')" id="l_method-i-xml_column_fallback_source">show</a>
                
                  | <a href="https://github.com/mdesantis/rails/blob/3270c58ebb3143b3ab3b349fe339cdd4587468ee/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L330" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-xml_column_fallback_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 330</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">xml_column_fallback</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-ivar">@base</span>.<span class="ruby-identifier">adapter_name</span>.<span class="ruby-identifier">downcase</span>
  <span class="ruby-keyword">when</span> <span class="ruby-string">&#39;sqlite&#39;</span>, <span class="ruby-string">&#39;mysql&#39;</span>
    <span class="ruby-identifier">options</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">extract_options!</span>
    <span class="ruby-identifier">column</span>(<span class="ruby-identifier">args</span>[<span class="ruby-number">0</span>], <span class="ruby-value">:text</span>, <span class="ruby-identifier">options</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
              
      <div class="sectiontitle">Instance Private methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-native">
            
              <b>native</b>()
            
            <a href="../../../classes/ActiveRecord/ConnectionAdapters/TableDefinition.html#method-i-native" name="method-i-native" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-native_source')" id="l_method-i-native_source">show</a>
                
                  | <a href="https://github.com/mdesantis/rails/blob/3270c58ebb3143b3ab3b349fe339cdd4587468ee/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L535" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-native_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 535</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">native</span>
  <span class="ruby-ivar">@base</span>.<span class="ruby-identifier">native_database_types</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>    