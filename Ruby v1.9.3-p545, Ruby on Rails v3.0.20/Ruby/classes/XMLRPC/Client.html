<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>XMLRPC::Client</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/github.css" type="text/css" media="screen" />
<script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            XMLRPC::Client 
            
                <span class="parent">&lt; 
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/__/ruby/lib/xmlrpc/client_rb.html">/home/mdesantis/Sviluppo/ruby/lib/xmlrpc/client.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  


  


  
  


  
    <!-- Namespace -->
    <div class="sectiontitle">Namespace</div>
    <ul>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Client/Proxy.html">XMLRPC::Client::Proxy</a>
        </li>
      
    </ul>
  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-call">call</a>,
              </li>
            
              
              <li>
                <a href="#method-i-call2">call2</a>,
              </li>
            
              
              <li>
                <a href="#method-i-call2_async">call2_async</a>,
              </li>
            
              
              <li>
                <a href="#method-i-call_async">call_async</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-do_rpc">do_rpc</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>G</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-gen_multicall">gen_multicall</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-multicall">multicall</a>,
              </li>
            
              
              <li>
                <a href="#method-i-multicall2">multicall2</a>,
              </li>
            
              
              <li>
                <a href="#method-i-multicall2_async">multicall2_async</a>,
              </li>
            
              
              <li>
                <a href="#method-i-multicall_async">multicall_async</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-new">new</a>,
              </li>
            
              
              <li>
                <a href="#method-i-new2">new2</a>,
              </li>
            
              
              <li>
                <a href="#method-i-new3">new3</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-password-3D">password=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-proxy">proxy</a>,
              </li>
            
              
              <li>
                <a href="#method-i-proxy2">proxy2</a>,
              </li>
            
              
              <li>
                <a href="#method-i-proxy2_async">proxy2_async</a>,
              </li>
            
              
              <li>
                <a href="#method-i-proxy_async">proxy_async</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-set_auth">set_auth</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-timeout-3D">timeout=</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>U</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-user-3D">user=</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  
    <!-- Includes -->
    <div class="sectiontitle">Included Modules</div>
    <ul>
      
        <li>
          
            <a href="ParserWriterChooseMixin.html">
              XMLRPC::ParserWriterChooseMixin
            </a>
          
        </li>
      
        <li>
          
            <a href="ParseContentType.html">
              XMLRPC::ParseContentType
            </a>
          
        </li>
      
    </ul>
  



  

    

    

    
      <!-- Section constants -->
      <div class="sectiontitle">Constants</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">USER_AGENT</td>
            <td>=</td>
            <td class="attr-value">&quot;XMLRPC::Client (Ruby #{RUBY_VERSION})&quot;</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
      </table>
    


    
      <!-- Section attributes -->
      <div class="sectiontitle">Attributes</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>cookie</td>
            <td class='attr-desc'><p>Cookie support</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>http_header_extra</td>
            <td class='attr-desc'><p>add additional HTTP headers to the request</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>http_last_response</td>
            <td class='attr-desc'><p>makes last HTTP response accessible</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>password</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>timeout</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>user</td>
            <td class='attr-desc'></td>
          </tr>
        
      </table>
    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-new">
            
              <b>new</b>(host=nil, path=nil, port=nil, proxy_host=nil, proxy_port=nil, user=nil, password=nil, use_ssl=nil, timeout=nil)
            
            <a href="../../classes/XMLRPC/Client.html#method-c-new" name="method-c-new" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Constructors ——————————————————————-</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/f988bf17bb4613803060bf5579e8ffe61b5a17b5/lib/xmlrpc/client.rb#L295" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ../ruby/lib/xmlrpc/client.rb, line 295</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">initialize</span>(<span class="ruby-identifier">host</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">path</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">port</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">proxy_host</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">proxy_port</span>=<span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">user</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">password</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">use_ssl</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">timeout</span>=<span class="ruby-keyword">nil</span>)

  <span class="ruby-ivar">@http_header_extra</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@http_last_response</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@cookie</span> = <span class="ruby-keyword">nil</span>

  <span class="ruby-ivar">@host</span>       = <span class="ruby-identifier">host</span> <span class="ruby-operator">||</span> <span class="ruby-string">&quot;localhost&quot;</span>
  <span class="ruby-ivar">@path</span>       = <span class="ruby-identifier">path</span> <span class="ruby-operator">||</span> <span class="ruby-string">&quot;/RPC2&quot;</span>
  <span class="ruby-ivar">@proxy_host</span> = <span class="ruby-identifier">proxy_host</span>
  <span class="ruby-ivar">@proxy_port</span> = <span class="ruby-identifier">proxy_port</span>
  <span class="ruby-ivar">@proxy_host</span> <span class="ruby-operator">||=</span> <span class="ruby-string">&#39;localhost&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@proxy_port</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@proxy_port</span> <span class="ruby-operator">||=</span> <span class="ruby-number">8080</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@proxy_host</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@use_ssl</span>    = <span class="ruby-identifier">use_ssl</span> <span class="ruby-operator">||</span> <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@timeout</span>    = <span class="ruby-identifier">timeout</span> <span class="ruby-operator">||</span> <span class="ruby-number">30</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">use_ssl</span>
    <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;net/https&quot;</span>
    <span class="ruby-ivar">@port</span> = <span class="ruby-identifier">port</span> <span class="ruby-operator">||</span> <span class="ruby-number">443</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@port</span> = <span class="ruby-identifier">port</span> <span class="ruby-operator">||</span> <span class="ruby-number">80</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@user</span>, <span class="ruby-ivar">@password</span> = <span class="ruby-identifier">user</span>, <span class="ruby-identifier">password</span>

  <span class="ruby-identifier">set_auth</span>

  <span class="ruby-comment"># convert ports to integers</span>
  <span class="ruby-ivar">@port</span> = <span class="ruby-ivar">@port</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@port</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@proxy_port</span> = <span class="ruby-ivar">@proxy_port</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@proxy_port</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>

  <span class="ruby-comment"># HTTP object for synchronous calls</span>
  <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">version_1_2</span>
  <span class="ruby-ivar">@http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@host</span>, <span class="ruby-ivar">@port</span>, <span class="ruby-ivar">@proxy_host</span>, <span class="ruby-ivar">@proxy_port</span>)
  <span class="ruby-ivar">@http</span>.<span class="ruby-identifier">use_ssl</span> = <span class="ruby-ivar">@use_ssl</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@use_ssl</span>
  <span class="ruby-ivar">@http</span>.<span class="ruby-identifier">read_timeout</span> = <span class="ruby-ivar">@timeout</span>
  <span class="ruby-ivar">@http</span>.<span class="ruby-identifier">open_timeout</span> = <span class="ruby-ivar">@timeout</span>

  <span class="ruby-ivar">@parser</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@create</span> = <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                  
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-call">
            
              <b>call</b>(method, *args)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-call" name="method-i-call" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Call methods ————————————————————–</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-call_source')" id="l_method-i-call_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/f988bf17bb4613803060bf5579e8ffe61b5a17b5/lib/xmlrpc/client.rb#L409" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-call_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ../ruby/lib/xmlrpc/client.rb, line 409</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">call</span>(<span class="ruby-identifier">method</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">ok</span>, <span class="ruby-identifier">param</span> = <span class="ruby-identifier">call2</span>(<span class="ruby-identifier">method</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">ok</span>
    <span class="ruby-identifier">param</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">param</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-call2">
            
              <b>call2</b>(method, *args)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-call2" name="method-i-call2" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-call2_source')" id="l_method-i-call2_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/f988bf17bb4613803060bf5579e8ffe61b5a17b5/lib/xmlrpc/client.rb#L418" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-call2_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ../ruby/lib/xmlrpc/client.rb, line 418</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">call2</span>(<span class="ruby-identifier">method</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">request</span> = <span class="ruby-identifier">create</span>().<span class="ruby-identifier">methodCall</span>(<span class="ruby-identifier">method</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">data</span> = <span class="ruby-identifier">do_rpc</span>(<span class="ruby-identifier">request</span>, <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">parser</span>().<span class="ruby-identifier">parseMethodResponse</span>(<span class="ruby-identifier">data</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-call2_async">
            
              <b>call2_async</b>(method, *args)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-call2_async" name="method-i-call2_async" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-call2_async_source')" id="l_method-i-call2_async_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/f988bf17bb4613803060bf5579e8ffe61b5a17b5/lib/xmlrpc/client.rb#L433" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-call2_async_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ../ruby/lib/xmlrpc/client.rb, line 433</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">call2_async</span>(<span class="ruby-identifier">method</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">request</span> = <span class="ruby-identifier">create</span>().<span class="ruby-identifier">methodCall</span>(<span class="ruby-identifier">method</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">data</span> = <span class="ruby-identifier">do_rpc</span>(<span class="ruby-identifier">request</span>, <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">parser</span>().<span class="ruby-identifier">parseMethodResponse</span>(<span class="ruby-identifier">data</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-call_async">
            
              <b>call_async</b>(method, *args)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-call_async" name="method-i-call_async" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-call_async_source')" id="l_method-i-call_async_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/f988bf17bb4613803060bf5579e8ffe61b5a17b5/lib/xmlrpc/client.rb#L424" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-call_async_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ../ruby/lib/xmlrpc/client.rb, line 424</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">call_async</span>(<span class="ruby-identifier">method</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">ok</span>, <span class="ruby-identifier">param</span> = <span class="ruby-identifier">call2_async</span>(<span class="ruby-identifier">method</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">ok</span>
    <span class="ruby-identifier">param</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">param</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-multicall">
            
              <b>multicall</b>(*methods)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-multicall" name="method-i-multicall" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Multicall methods ————————————————————–</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-multicall_source')" id="l_method-i-multicall_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/f988bf17bb4613803060bf5579e8ffe61b5a17b5/lib/xmlrpc/client.rb#L442" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-multicall_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ../ruby/lib/xmlrpc/client.rb, line 442</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">multicall</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">methods</span>)
  <span class="ruby-identifier">ok</span>, <span class="ruby-identifier">params</span> = <span class="ruby-identifier">multicall2</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">methods</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">ok</span>
    <span class="ruby-identifier">params</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">params</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-multicall2">
            
              <b>multicall2</b>(*methods)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-multicall2" name="method-i-multicall2" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-multicall2_source')" id="l_method-i-multicall2_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/f988bf17bb4613803060bf5579e8ffe61b5a17b5/lib/xmlrpc/client.rb#L451" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-multicall2_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ../ruby/lib/xmlrpc/client.rb, line 451</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">multicall2</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">methods</span>)
  <span class="ruby-identifier">gen_multicall</span>(<span class="ruby-identifier">methods</span>, <span class="ruby-keyword">false</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-multicall2_async">
            
              <b>multicall2_async</b>(*methods)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-multicall2_async" name="method-i-multicall2_async" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-multicall2_async_source')" id="l_method-i-multicall2_async_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/f988bf17bb4613803060bf5579e8ffe61b5a17b5/lib/xmlrpc/client.rb#L464" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-multicall2_async_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ../ruby/lib/xmlrpc/client.rb, line 464</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">multicall2_async</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">methods</span>)
  <span class="ruby-identifier">gen_multicall</span>(<span class="ruby-identifier">methods</span>, <span class="ruby-keyword">true</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-multicall_async">
            
              <b>multicall_async</b>(*methods)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-multicall_async" name="method-i-multicall_async" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-multicall_async_source')" id="l_method-i-multicall_async_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/f988bf17bb4613803060bf5579e8ffe61b5a17b5/lib/xmlrpc/client.rb#L455" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-multicall_async_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ../ruby/lib/xmlrpc/client.rb, line 455</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">multicall_async</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">methods</span>)
  <span class="ruby-identifier">ok</span>, <span class="ruby-identifier">params</span> = <span class="ruby-identifier">multicall2_async</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">methods</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">ok</span>
    <span class="ruby-identifier">params</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">params</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-new2">
            
              <b>new2</b>(uri, proxy=nil, timeout=nil)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-new2" name="method-i-new2" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-new2_source')" id="l_method-i-new2_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/f988bf17bb4613803060bf5579e8ffe61b5a17b5/lib/xmlrpc/client.rb#L340" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-new2_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ../ruby/lib/xmlrpc/client.rb, line 340</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">new2</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">proxy</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">timeout</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">match</span> = <span class="ruby-regexp">/^([^:]+):\/\/(([^@]+)@)?([^\/]+)(\/.*)?$/</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">uri</span>)
    <span class="ruby-identifier">proto</span> = <span class="ruby-identifier">match</span>[<span class="ruby-number">1</span>]
    <span class="ruby-identifier">user</span>, <span class="ruby-identifier">passwd</span> = (<span class="ruby-identifier">match</span>[<span class="ruby-number">3</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&quot;</span>).<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;:&quot;</span>)
    <span class="ruby-identifier">host</span>, <span class="ruby-identifier">port</span> = <span class="ruby-identifier">match</span>[<span class="ruby-number">4</span>].<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;:&quot;</span>)
    <span class="ruby-identifier">path</span> = <span class="ruby-identifier">match</span>[<span class="ruby-number">5</span>]

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">proto</span> <span class="ruby-operator">!=</span> <span class="ruby-string">&quot;http&quot;</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">proto</span> <span class="ruby-operator">!=</span> <span class="ruby-string">&quot;https&quot;</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-string">&quot;Wrong protocol specified. Only http or https allowed!&quot;</span>
    <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-string">&quot;Wrong URI as parameter!&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">proxy_host</span>, <span class="ruby-identifier">proxy_port</span> = (<span class="ruby-identifier">proxy</span> <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&quot;</span>).<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;:&quot;</span>)

  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">port</span>, <span class="ruby-identifier">proxy_host</span>, <span class="ruby-identifier">proxy_port</span>, <span class="ruby-identifier">user</span>, <span class="ruby-identifier">passwd</span>, (<span class="ruby-identifier">proto</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;https&quot;</span>), <span class="ruby-identifier">timeout</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-new3">
            
              <b>new3</b>(hash={})
            
            <a href="../../classes/XMLRPC/Client.html#method-i-new3" name="method-i-new3" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-new3_source')" id="l_method-i-new3_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/f988bf17bb4613803060bf5579e8ffe61b5a17b5/lib/xmlrpc/client.rb#L362" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-new3_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ../ruby/lib/xmlrpc/client.rb, line 362</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">new3</span>(<span class="ruby-identifier">hash</span>={})

  <span class="ruby-comment"># convert all keys into lowercase strings</span>
  <span class="ruby-identifier">h</span> = {}
  <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">k</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">downcase</span>] = <span class="ruby-identifier">v</span> }

  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">h</span>[<span class="ruby-string">&#39;host&#39;</span>], <span class="ruby-identifier">h</span>[<span class="ruby-string">&#39;path&#39;</span>], <span class="ruby-identifier">h</span>[<span class="ruby-string">&#39;port&#39;</span>], <span class="ruby-identifier">h</span>[<span class="ruby-string">&#39;proxy_host&#39;</span>], <span class="ruby-identifier">h</span>[<span class="ruby-string">&#39;proxy_port&#39;</span>], <span class="ruby-identifier">h</span>[<span class="ruby-string">&#39;user&#39;</span>], <span class="ruby-identifier">h</span>[<span class="ruby-string">&#39;password&#39;</span>],
           <span class="ruby-identifier">h</span>[<span class="ruby-string">&#39;use_ssl&#39;</span>], <span class="ruby-identifier">h</span>[<span class="ruby-string">&#39;timeout&#39;</span>])
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-password-3D">
            
              <b>password=</b>(new_password)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-password-3D" name="method-i-password-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-password-3D_source')" id="l_method-i-password-3D_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/f988bf17bb4613803060bf5579e8ffe61b5a17b5/lib/xmlrpc/client.rb#L402" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-password-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ../ruby/lib/xmlrpc/client.rb, line 402</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">password=</span>(<span class="ruby-identifier">new_password</span>)
  <span class="ruby-ivar">@password</span> = <span class="ruby-identifier">new_password</span>
  <span class="ruby-identifier">set_auth</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-proxy">
            
              <b>proxy</b>(prefix=nil, *args)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-proxy" name="method-i-proxy" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p><a href="Client/Proxy.html">Proxy</a> generating methods ——————————————</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-proxy_source')" id="l_method-i-proxy_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/f988bf17bb4613803060bf5579e8ffe61b5a17b5/lib/xmlrpc/client.rb#L471" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-proxy_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ../ruby/lib/xmlrpc/client.rb, line 471</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">proxy</span>(<span class="ruby-identifier">prefix</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-constant">Proxy</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">args</span>, <span class="ruby-value">:call</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-proxy2">
            
              <b>proxy2</b>(prefix=nil, *args)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-proxy2" name="method-i-proxy2" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-proxy2_source')" id="l_method-i-proxy2_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/f988bf17bb4613803060bf5579e8ffe61b5a17b5/lib/xmlrpc/client.rb#L475" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-proxy2_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ../ruby/lib/xmlrpc/client.rb, line 475</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">proxy2</span>(<span class="ruby-identifier">prefix</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-constant">Proxy</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">args</span>, <span class="ruby-value">:call2</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-proxy2_async">
            
              <b>proxy2_async</b>(prefix=nil, *args)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-proxy2_async" name="method-i-proxy2_async" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-proxy2_async_source')" id="l_method-i-proxy2_async_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/f988bf17bb4613803060bf5579e8ffe61b5a17b5/lib/xmlrpc/client.rb#L483" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-proxy2_async_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ../ruby/lib/xmlrpc/client.rb, line 483</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">proxy2_async</span>(<span class="ruby-identifier">prefix</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-constant">Proxy</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">args</span>, <span class="ruby-value">:call2_async</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-proxy_async">
            
              <b>proxy_async</b>(prefix=nil, *args)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-proxy_async" name="method-i-proxy_async" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-proxy_async_source')" id="l_method-i-proxy_async_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/f988bf17bb4613803060bf5579e8ffe61b5a17b5/lib/xmlrpc/client.rb#L479" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-proxy_async_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ../ruby/lib/xmlrpc/client.rb, line 479</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">proxy_async</span>(<span class="ruby-identifier">prefix</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-constant">Proxy</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">args</span>, <span class="ruby-value">:call_async</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-timeout-3D">
            
              <b>timeout=</b>(new_timeout)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-timeout-3D" name="method-i-timeout-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-timeout-3D_source')" id="l_method-i-timeout-3D_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/f988bf17bb4613803060bf5579e8ffe61b5a17b5/lib/xmlrpc/client.rb#L391" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-timeout-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ../ruby/lib/xmlrpc/client.rb, line 391</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">timeout=</span>(<span class="ruby-identifier">new_timeout</span>)
  <span class="ruby-ivar">@timeout</span> = <span class="ruby-identifier">new_timeout</span>
  <span class="ruby-ivar">@http</span>.<span class="ruby-identifier">read_timeout</span> = <span class="ruby-ivar">@timeout</span>
  <span class="ruby-ivar">@http</span>.<span class="ruby-identifier">open_timeout</span> = <span class="ruby-ivar">@timeout</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-user-3D">
            
              <b>user=</b>(new_user)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-user-3D" name="method-i-user-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-user-3D_source')" id="l_method-i-user-3D_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/f988bf17bb4613803060bf5579e8ffe61b5a17b5/lib/xmlrpc/client.rb#L397" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-user-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ../ruby/lib/xmlrpc/client.rb, line 397</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">user=</span>(<span class="ruby-identifier">new_user</span>)
  <span class="ruby-ivar">@user</span> = <span class="ruby-identifier">new_user</span>
  <span class="ruby-identifier">set_auth</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
              
      <div class="sectiontitle">Instance Private methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-do_rpc">
            
              <b>do_rpc</b>(request, async=false)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-do_rpc" name="method-i-do_rpc" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-do_rpc_source')" id="l_method-i-do_rpc_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/f988bf17bb4613803060bf5579e8ffe61b5a17b5/lib/xmlrpc/client.rb#L500" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-do_rpc_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ../ruby/lib/xmlrpc/client.rb, line 500</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">do_rpc</span>(<span class="ruby-identifier">request</span>, <span class="ruby-identifier">async</span>=<span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">header</span> = {
   <span class="ruby-string">&quot;User-Agent&quot;</span>     =<span class="ruby-operator">&gt;</span>  <span class="ruby-constant">USER_AGENT</span>,
   <span class="ruby-string">&quot;Content-Type&quot;</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;text/xml; charset=utf-8&quot;</span>,
   <span class="ruby-string">&quot;Content-Length&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">bytesize</span>.<span class="ruby-identifier">to_s</span>,
   <span class="ruby-string">&quot;Connection&quot;</span>     =<span class="ruby-operator">&gt;</span> (<span class="ruby-identifier">async</span> <span class="ruby-operator">?</span> <span class="ruby-string">&quot;close&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-string">&quot;keep-alive&quot;</span>)
  }

  <span class="ruby-identifier">header</span>[<span class="ruby-string">&quot;Cookie&quot;</span>] = <span class="ruby-ivar">@cookie</span>        <span class="ruby-keyword">if</span> <span class="ruby-ivar">@cookie</span>
  <span class="ruby-identifier">header</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@http_header_extra</span>) <span class="ruby-keyword">if</span> <span class="ruby-ivar">@http_header_extra</span>

  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@auth</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-comment"># add authorization header</span>
    <span class="ruby-identifier">header</span>[<span class="ruby-string">&quot;Authorization&quot;</span>] = <span class="ruby-ivar">@auth</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">resp</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@http_last_response</span> = <span class="ruby-keyword">nil</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">async</span>
    <span class="ruby-comment"># use a new HTTP object for each call</span>
    <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">version_1_2</span>
    <span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@host</span>, <span class="ruby-ivar">@port</span>, <span class="ruby-ivar">@proxy_host</span>, <span class="ruby-ivar">@proxy_port</span>)
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">use_ssl</span> = <span class="ruby-ivar">@use_ssl</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@use_ssl</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">read_timeout</span> = <span class="ruby-ivar">@timeout</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">open_timeout</span> = <span class="ruby-ivar">@timeout</span>

    <span class="ruby-comment"># post request</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">start</span> {
      <span class="ruby-identifier">resp</span> = <span class="ruby-identifier">http</span>.<span class="ruby-identifier">post2</span>(<span class="ruby-ivar">@path</span>, <span class="ruby-identifier">request</span>, <span class="ruby-identifier">header</span>)
    }
  <span class="ruby-keyword">else</span>
    <span class="ruby-comment"># reuse the HTTP object for each call =&gt; connection alive is possible</span>
    <span class="ruby-comment"># we must start connection explicitely first time so that http.request</span>
    <span class="ruby-comment"># does not assume that we don&#39;t want keepalive</span>
    <span class="ruby-ivar">@http</span>.<span class="ruby-identifier">start</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">not</span> <span class="ruby-ivar">@http</span>.<span class="ruby-identifier">started?</span>

    <span class="ruby-comment"># post request</span>
    <span class="ruby-identifier">resp</span> = <span class="ruby-ivar">@http</span>.<span class="ruby-identifier">post2</span>(<span class="ruby-ivar">@path</span>, <span class="ruby-identifier">request</span>, <span class="ruby-identifier">header</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@http_last_response</span> = <span class="ruby-identifier">resp</span>

  <span class="ruby-identifier">data</span> = <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">body</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">code</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;401&quot;</span>
    <span class="ruby-comment"># Authorization Required</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Authorization failed.\nHTTP-Error: #{resp.code} #{resp.message}&quot;</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">code</span>[<span class="ruby-number">0</span>,<span class="ruby-number">1</span>] <span class="ruby-operator">!=</span> <span class="ruby-string">&quot;2&quot;</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;HTTP-Error: #{resp.code} #{resp.message}&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">ct</span> = <span class="ruby-identifier">parse_content_type</span>(<span class="ruby-identifier">resp</span>[<span class="ruby-string">&quot;Content-Type&quot;</span>]).<span class="ruby-identifier">first</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">ct</span> <span class="ruby-operator">!=</span> <span class="ruby-string">&quot;text/xml&quot;</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">ct</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;text/html&quot;</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Wrong content-type (received &#39;#{ct}&#39; but expected &#39;text/xml&#39;): \n#{data}&quot;</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Wrong content-type (received &#39;#{ct}&#39; but expected &#39;text/xml&#39;)&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">expected</span> = <span class="ruby-identifier">resp</span>[<span class="ruby-string">&quot;Content-Length&quot;</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&lt;unknown&gt;&quot;</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">data</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">data</span>.<span class="ruby-identifier">bytesize</span> <span class="ruby-operator">==</span> <span class="ruby-number">0</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Wrong size. Was #{data.bytesize}, should be #{expected}&quot;</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">expected</span> <span class="ruby-operator">!=</span> <span class="ruby-string">&quot;&lt;unknown&gt;&quot;</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">expected</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">data</span>.<span class="ruby-identifier">bytesize</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">resp</span>[<span class="ruby-string">&quot;Transfer-Encoding&quot;</span>].<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Wrong size. Was #{data.bytesize}, should be #{expected}&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">set_cookies</span> = <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">get_fields</span>(<span class="ruby-string">&quot;Set-Cookie&quot;</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">set_cookies</span> <span class="ruby-keyword">and</span> <span class="ruby-operator">!</span><span class="ruby-identifier">set_cookies</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;webrick/cookie&#39;</span>
    <span class="ruby-ivar">@cookie</span> = <span class="ruby-identifier">set_cookies</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set_cookie</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">cookie</span> = <span class="ruby-constant">WEBrick</span><span class="ruby-operator">::</span><span class="ruby-constant">Cookie</span>.<span class="ruby-identifier">parse_set_cookie</span>(<span class="ruby-identifier">set_cookie</span>)
      <span class="ruby-constant">WEBrick</span><span class="ruby-operator">::</span><span class="ruby-constant">Cookie</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">cookie</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">cookie</span>.<span class="ruby-identifier">value</span>).<span class="ruby-identifier">to_s</span>
    <span class="ruby-keyword">end</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;; &quot;</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">data</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-gen_multicall">
            
              <b>gen_multicall</b>(methods=[], async=false)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-gen_multicall" name="method-i-gen_multicall" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-gen_multicall_source')" id="l_method-i-gen_multicall_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/f988bf17bb4613803060bf5579e8ffe61b5a17b5/lib/xmlrpc/client.rb#L580" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-gen_multicall_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ../ruby/lib/xmlrpc/client.rb, line 580</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">gen_multicall</span>(<span class="ruby-identifier">methods</span>=[], <span class="ruby-identifier">async</span>=<span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">meth</span> = <span class="ruby-value">:call2</span>
  <span class="ruby-identifier">meth</span> = <span class="ruby-value">:call2_async</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">async</span>

  <span class="ruby-identifier">ok</span>, <span class="ruby-identifier">params</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">meth</span>, <span class="ruby-string">&quot;system.multicall&quot;</span>,
    <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">collect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> {<span class="ruby-string">&#39;methodName&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">m</span>[<span class="ruby-number">0</span>], <span class="ruby-string">&#39;params&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">m</span>[<span class="ruby-number">1</span><span class="ruby-operator">..</span><span class="ruby-number">-1</span>]} }
  )

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">ok</span>
    <span class="ruby-identifier">params</span> = <span class="ruby-identifier">params</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">param</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">param</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Array</span>
        <span class="ruby-identifier">param</span>[<span class="ruby-number">0</span>]
      <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">param</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Hash</span>
        <span class="ruby-constant">XMLRPC</span><span class="ruby-operator">::</span><span class="ruby-constant">FaultException</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">param</span>[<span class="ruby-string">&quot;faultCode&quot;</span>], <span class="ruby-identifier">param</span>[<span class="ruby-string">&quot;faultString&quot;</span>])
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-string">&quot;Wrong multicall return value&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">ok</span>, <span class="ruby-identifier">params</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-set_auth">
            
              <b>set_auth</b>()
            
            <a href="../../classes/XMLRPC/Client.html#method-i-set_auth" name="method-i-set_auth" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-set_auth_source')" id="l_method-i-set_auth_source">show</a>
                
                  | <a href="https://github.com/ruby/ruby/blob/f988bf17bb4613803060bf5579e8ffe61b5a17b5/lib/xmlrpc/client.rb#L490" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-set_auth_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ../ruby/lib/xmlrpc/client.rb, line 490</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">set_auth</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@user</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-ivar">@auth</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">a</span> =  <span class="ruby-node">&quot;#@user&quot;</span>
    <span class="ruby-identifier">a</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;:#@password&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@password</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@auth</span> = <span class="ruby-string">&quot;Basic &quot;</span> <span class="ruby-operator">+</span> [<span class="ruby-identifier">a</span>].<span class="ruby-identifier">pack</span>(<span class="ruby-string">&quot;m0&quot;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>    